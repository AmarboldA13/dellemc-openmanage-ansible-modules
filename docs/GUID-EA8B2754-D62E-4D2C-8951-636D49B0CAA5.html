<!DOCTYPE html>
<html lang="en-us"><head><!-- saved from url=(0014)about:internet -->
<meta charset="utf-8" /><meta name="viewport" content="width=device-width" /><!--$if html5Status  -->  <!--$else--><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><title>Running your first iDRAC Playbook</title><link rel="prev" href="GUID-7ED54CAA-27FB-4CC3-A07F-F39959B061A6.html" /><link rel="next" href="GUID-080C5507-C11A-43A9-B6D0-08157CF09DC8.html" /><link href="static/screen.css?fAL4Y+sp" rel="stylesheet" /><link href="static/print.css?IUS/7uGw" media="print" rel="stylesheet" /><script src="static/head.js?qUF72lF0"></script><link rel="shortcut icon" href="static/favicon-blue.ico" /></head><body id="GUID-EA8B2754-D62E-4D2C-8951-636D49B0CAA5" data-approot=""><header><div class="inner"><a id="logo-link" href="index.html" /><img id="logo" src="static/logoEmc.png" alt="Logo" /></a><div class="title-text">Dell EMC OpenManage Ansible Modules</div></div></header><div id="navheader"><div id="breadcrumbs"></div></div><nav class="navigation" id="topicnav"><div id="topicbuttons"><a id="button-back" href="#" title="Previous topic"><span>Previous topic</span></a><a id="button-forward" href="#" title="Next topic"><span>Next topic</span></a></div></nav><section id="center"><div id="scroller"><nav id="topnav"><div id="topbuttons"><a id="button-highlighting" href="#" title="Toggle highlighting"><span>Toggle highlighting</span></a><a id="button-hide-navigation" href="#" title="Toggle navigation"><span>Toggle navigation</span></a><a id="button-print" href="#" title="Print topic"><span>Print topic</span></a><a id="button-print-all" title="Print topics and subtopics"><span>Print topics and subtopics</span></a></div></nav><article><div id="thumbnailDialog"></div><h1>Running your first iDRAC Playbook</h1>
<p>Before you run a playbook to manage your iDRACs, you need to have a valid inventory of target PowerEdge servers. For more information on inventory, see <a data-scope="external" href="https://docs.ansible.com/ansible/latest/user_guide/intro_inventory.html" target="_blank" title="">Ansible documentation</a>.<ol id="OL_6A06394F626F4891B23D6D20B833A7A8"><li id="LI_C773139F76FF4D8184123CCB25B97C91">Install OpenManage Ansible Modules either from the <a data-scope="external" href="https://www.dell.com/support/home/in/en/indhs1/" target="_blank" title="">dell.com/support</a> or the <a data-scope="external" href="https://github.com/dell/dellemc-openmanage-ansible-modules" target="_blank" title="">https://github.com/dell/dellemc-openmanage-ansible-modules.git</a> repository. For more details, see <i>Dell EM C OpenManage Ansible Modules Installation Guide</i>.</li><li id="LI_C945167C48AB4F8D80305374B5AC28BB">Create an inventory file containing a list of the iDRACs. In the following inventory example, we are using the inventory variables to store the iDRAC IP addresses and the user credentials. For more information on variables, see <a data-scope="external" href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_variables.html" target="_blank" title="">Ansible documentation</a>.<pre class="codeblock">inventory:

[PowerEdge]
R740.example.com
idrac_ip=&#39;192.168.10.10&#39;
idrac_user=&#39;root&#39;
idrac_pwd=&#39;calvin&#39;</pre></li><li id="LI_73EA36D8A59349508461B8EC4ABD03DE">Define a playbook to fetch the hardware inventory of the servers. Create the playbook in the same directory where you created the inventory. Following is a playbook example:<pre class="codeblock">playbook.yml

---
- hosts: PowerEdge
  connection: local
  gather_facts: False

  tasks:
  - name: Get hardware inventory
    dellemc_get_system_inventory:
      idrac_ip:  &quot;{{ idrac_ip }}&quot;
      idrac_user:  &quot;{{ idrac_user }}&quot;
      idrac_pwd:  &quot;{{ idrac_pwd }}&quot;
</pre></li><li id="LI_44D13FE343454242A1BB00D860CF266D">Now run the playbook. Run the following command from the directory where you created the inventory and the playbook:<pre class="codeblock">ansible-playbook playbook.yml -i inventory</pre></li><li id="LI_B18B4F00F72048838DA9F0ACFF5D6586">Press <span class="uicontrol">Enter</span>.</li></ol></p>
<p> With OpenManage Ansible Modules, you can construct a playbook with a set of modules resulting in an automation workflow for configuration, deployments, and updates of PowerEdge servers.</p><p>To view the list of all available iDRAC modules:</p><ol id="OL_8BED5A6748CA41BFAA982087F8DC0AAB"><li id="LI_2013F31FB44D4153A94C43B0F7471F11">Run the following command on the Ansible control machine:<pre class="codeblock">ansible-doc -l | grep &quot;idrac&quot;</pre></li><li id="LI_40268FD688B046208C0287B6B9A82100">Press <span class="uicontrol">Enter</span>.</li></ol><p>List of the available iDRAC modules is displayed.</p><p>To view the documentation of a module:</p><ol id="OL_FB2167F3CD044E47AE6E7D0517D7C855"><li id="LI_2A29C95855C047FF883399A005055204">Run the following command on the Ansible control machine:<pre class="codeblock">ansible-doc &lt;module name&gt;</pre></li><li id="LI_EB2C3B4D5EE0456EB77B5455F93D1CD0">Press <span class="uicontrol">Enter</span>.</li></ol></article></div></section><div id="leftbar"><ul class="tabs"><li class="currentli"><a class="current toc" href="#"><span>Contents</span></a></li><li><a class="search" href="#"><span>Search</span></a></li></ul><form id="searchform"><div class="holdsearch"><input class="search" type="text" placeholder="Search" /></div><input class="submit" type="submit" value="Go" /></form><nav class="toc current"><div class="loader"><img src="static/loader.gif" alt="Loading" /></div></nav><nav class="search"><a id="search-toc-link" href="#"><img title="Table of Contents" id="table-oc-link" src="static/ic_nav_home_blu_16.png" alt="Table of Contents Button" /><span>Contents</span></a><div class="results"><span>No search has been performed.</span></div></nav></div><script src="static/body.js?KNPsPhBZ"></script></body></html>
